## V1.2.0

> [!TIP]
>
> - 撰稿人：曹蓓
> - 日期：2024.5.12 10.30
> - 主题：[添加 登录、注册 功能及 dev INFO 相关的文档](https://github.com/caobaoqi1029/monitor/issues/7) 可行性分析与项目开发计划部分

## 一、引言

在本学期，我们有幸参与了 Linux、计算机网络以及软件工程等课程的学习，这些课程不仅让我们对 Linux 和其他计算机相关知识有了更深入的理解，也让我们有机会使用到了阿里云提供的远程连接服务。我们被阿里云提供的远程连接服务、实时信息展示方式的实现原理深感好奇，它比 Linux 命令行终端更加直观友好。起初我们萌生了实现一个简易的服务器管理程序软件的想法，但经过简单调研后即便大概清楚相关功能的实现技术后仍感觉很困难。恰逢，我们学习了软件工程这门课程，经过一学期的学习我们深知，一个好的软件不仅仅是编码功能上的实现(即**程序 = 数据结构 + 算法 + 文档** 而不仅仅是 **数据结构 + 算法**)，更重要的是如何规范、安全、严谨的进行设计以及如何通过工程化的方法让软件开发有条不紊的进行下去，该课程设计环节更是激发了我们对实现一个简易的远程连接服务器，同时进行数据可视化的系统的热情

接下来是我们为本系统设计的课程报告，它描绘了一个服务器监控系统的开发过程。该系统拥有用户登录注册、实时收集服务器运行数据、远程管理，以及提供数据可视化等功能

## 二、可行性分析

### 2.1 定义系统范围

1. **系统目标**：设计一个服务器监控系统，该系统可以实时收集服务器运行数据，允许用户通过 Web 界面进行查看和管理。系统主要由客户端、服务端和前端组成
2. 主要功能：
   - **客户端**：在服务器上安装，进行数据收集并上报给服务端。支持注册、定时任务调度和 SSH 远程控制交互
   - **服务端**：保存所有客户端信息，接收并处理客户端发来的监控数据，支持多账户权限配置。同时，服务端还负责对客户端提供的监控数据进行整理，生成一个可供前端折线图展示的时间段数据集，并实时进行更新
   - **前端**：展示所有服务器数据，实时更新服务器运行状态，配合后端完成前端伪 SSH 终端，快捷方便对服务器进行管理，支持子账户分权限管理
3. **用户群体**：需要管理和监控服务器的用户
4. **系统环境**：系统需要在有网络连接和可运行 SpringBoot、JSCH、Vue 等技术栈的环境中运行
5. **期望的结果**：一个稳定、易用且功能全面的服务器监控系统，可以帮助用户更好地管理和监控服务器
6. **完善的技术文档**：提供面向用户及开发者的相关设计文档

### 2.2 可行性分析

#### 2.2.1 技术可行性分析

- **客户端技术栈**：客户端使用的 oshi 和 SpringQuartz 等技术已经在业界得到了广泛的应用，并且有大量的社区资源和文档支持。这些技术的稳定性和可靠性也得到了验证，因此在技术上是完全可行的
- **服务端技术栈**：服务端使用的 SpringBoot、JSCH，WebSocket，InfluxDB，Mybatis-Plus，Redis，RabbitMQ、SpringSecurity 等技术同样也是业界常用的技术，有良好的社区支持和丰富的开发经验，因此在技术上是完全可行的
- **前端技术栈**：前端使用的 Vue3，ElementUI，Fontawsome，Xterm.js 等技术是目前前端开发的主流技术，具有良好的开发体验和成熟的社区支持，因此在技术上是完全可行的
- **技术文档**：VuePress Hope 是一个基于 Vue.js 的静态网站生成器，它可以生成由 Markdown 文件驱动的静态网站，非常适合用来编写技术文档。可以用它来生成用户手册和 API 文档，以方便用户和开发者使用系统
- **环境要求**：系统需要在有网络连接和可以运行 SpringBoot，JSCH，Vue 等技术的环境中运行。这些环境在现代的计算设施中都是可以满足的，因此在环境要求上是完全可行的

总的来说，系统在技术上是完全可行的。选择的技术栈都是目前业界主流的技术，具有良好的社区支持和丰富的开发经验。环境要求也可以在现代计算设施中满足

#### 2.2.2 经济、法律可行性

由于这是一个软件工程课程设计项目，所以从经济的角度来看，主要的成本在于开发时间和人力资源。考虑到选择的技术栈都是业界广泛使用的，有丰富的学习资源和社区支持，这将大大降低学习成本和解决问题的难度，从而节省开发时间。因此，从经济的角度来看，该项目是可行的

在法律可行性方面，由于项目涉及到的技术栈都是开源的，基于学习目的，使用这些技术并不会引发版权问题。且在开发过程中，已注意遵守相关的开源协议，该项目在法律上也是可行的

#### 2.2.3 操作可行性

1. **易用性**：系统的前端将使用 Vue 和 ElementUI 等现代前端技术，这将帮助创建一个友好和直观的用户界面。此外，系统还提供详细的技术文档，这将有助于用户理解和使用系统。因此，系统的易用性应该是可接受的
2. **可维护性**：客户端和服务器端使用的是 SpringBoot，这是一个模块化的框架，易于维护和扩展。前端使用的 Vue 也是组件化的，容易进行维护。在系统设计中，提供了多账户权限配置，这也有利于系统的维护。因此，系统的可维护性应该是良好的
3. **用户接受程度**：系统的目标用户是系统管理员和需要管理和监控服务器的用户，这些用户通常对于新的技术和工具有较高的接受度。因此预计用户对系统的接受程度应该是良好的

## 三、项目开发计划

### 3.1 项目开发流程

项目开发采用 Gitflow 工作流，这种工作流非常适合版本控制和管理复杂的软件项目。其中，`main` 分支用于版本发布，`dev` 分支作为开发的主要分支，此外还有针对特定功能的 `feat` 分支和用于紧急修复的 `hot-fix` 分支。下面是这个工作流程的详细操作指南：

![gitflow-v1](https://2024-cbq-1311841992.cos.ap-beijing.myqcloud.com/picgo/gitflow-v1.svg)

- 初始化仓库
  1. 确保仓库中有 `main` 和 `dev` 分支，并且这两个分支受到保护，只能通过 Pull Request (PR) 合并，且需要管理员审核

- 新功能开发
  1. 当开发人员通过 issue 获得新的功能开发任务时，应从 `dev` 分支检出一个新的 `feat` 分支，命名规则可以是 `feat/功能名称`
  2. 开发人员在 `feat` 分支上进行开发和本地测试
  3. 开发完成后，将 `feat` 分支推送到远程仓库，并创建一个 PR 到 `dev` 分支
  4. 通知测试人员对该功能分支进行测试
  5. 测试通过后，管理员审核 PR，合并 `feat` 分支到 `dev` 分支

- 版本发布
  1. 团队讨论确定合适的时机和版本号（tag）进行版本发布
  2. 创建一个 PR，将 `dev` 分支的更改合并到 `main` 分支
  3. 管理员审核 PR，并执行合并操作
  4. 在 `main` 分支上打上新的版本 tag，并推送 tag 到远程仓库
  5. github 的工作流在嗅探到 main 分支携带 tag 推送后就会进行自动化的版本构建

- 紧急修复

1. 当在生产环境中发现紧急 bug 时，从 `main` 分支检出一个 `hot-fix` 分支，命名规则可以是 `hot-fix/问题描述`。
2. 在 `hot-fix` 分支上进行修复工作。
3. 修复完成并测试通过后，将 `hot-fix` 分支推送到远程仓库，并创建一个 PR 到 `main` 分支。
4. 同时，为了保持 `dev` 分支的代码与 `main` 分支同步，还应该创建一个 PR 将 `hot-fix` 分支的更改合并回 `dev` 分支。
5. 管理员审核 PR，并执行合并操作。
6. 在 `main` 分支上打上一个新的版本 tag（如果适用），并推送 tag 到远程仓库。

- 注意事项
  1. **保持分支同步**：在 `feat` 分支开发期间，定期从 `dev` 分支拉取最新的更改，以避免未来合并时出现大量冲突。
  2. **代码审查**：利用 Pull Request 进行代码审查，确保代码质量和一致性。
  3. **定期清理**：合并后的分支应定期删除，以保持仓库的整洁。
  4. **文档和标签**：每次发布新版本时，更新项目文档，并确保 tag 符合版本命名规范，如使用语义化版本控制（SemVer）。

![image-20240512114226779](https://2024-cbq-1311841992.cos.ap-beijing.myqcloud.com/picgo/image-20240512114226779.png)

![image-20240512114327764](https://2024-cbq-1311841992.cos.ap-beijing.myqcloud.com/picgo/image-20240512114327764.png)

### 3.2 项目基础结构

| 模块       | 描述                                                         |
| ---------- | ------------------------------------------------------------ |
| **client** | 客户端模块，主要用于客户使用主要进行数据收集并上报给服务端   |
| **server** | 服务端模块，保存客户端信息，接收并处理客户端发来的监控数据，搭配 web 模块进行数据的可视化 |
| **web-ui** | 网页端，展示服务器数据，实时更新服务器运行状态配合后端完成前端伪 SSH 终端快捷方便对服务器进行管理 |
| **docs**   | 项目文档部分，面向用户和开发者，提供丰富的文档描述           |

### 3.3 人员与分工

| 角色                    | 职责                                                         |
| ----------------------- | ------------------------------------------------------------ |
| **曹宝琪  23093121 02** | 担任组长兼后端代码实现，负责项目整体结构的搭建，具体编程实现，组织协调成员 |
| **曹蓓    23093121 03** | 担任项目管理员兼UML 类图的绘制，负责项目 issue 组织分配、pull request 审核等相关工作 |
| **程柄惠** 23093121 05  | 担任开发员兼前端代码实现，负责前端项目结构的搭建，以及具体编程实现 |
| **焦慧静** 23093121 12  | 担任开发员兼数据库管理工作，负责数据库相关工作以及后期撰稿工作 |

### 3.4 沟通计划

组内定期开展线下或线上例会讨论项目，创建有项目协作群便用及时交流，项目实现主要通过 git 版本控制协作完成。

### 3.5 开发周期与里程碑

1. **项目阶段划分**

项目采用` V 主版本.次版本.修复版` 的格式进行编排，约定每周二举行线下例会时，完成相关版本的发布，然后讨论遇到的问题并商讨下个版本的开发流程。

2. **关键里程碑**

| 版本   | 开发周期      | 描述                                               |
| ------ | ------------- | -------------------------------------------------- |
| v0.1.0 | `3.30 - 4.8 ` | 完成项目整体结构搭建                               |
| v1.1.0 | `4.9 - 4.16`  | server + web 端实现登录-注册相关功能               |
| v1.2.0 | `4.16 - 4.23` | 为项目添加友好的项目文档，添加 workflow 工作流构建 |

> [!TIP]
>
> 详细信息请参见：https://github.com/caobaoqi1029/monitor/releases

![image-20240512114034887](https://2024-cbq-1311841992.cos.ap-beijing.myqcloud.com/picgo/image-20240512114034887.png)

### 3.6 风险管理与质量保证计划

- **质量目标**
  1. 系统可用性和测试覆盖率满足相关标准
  2. 系统可以按照预期完成规定的任务

- **质量控制措施**
  1. 代码审查：定期进行代码审查，确保代码质量和遵循最佳实践
  2. 单元测试：为所有新开发的功能和修复的缺陷编写单元测试，确保代码的稳定性
  3. 集成测试：在模块或功能集成到主分支之前，进行集成测试，确保各部分可以正常协同工作
  4. 性能测试：定期进行性能测试，确保系统响应时间和处理能力满足要求

- **测试计划**

  1. 定义详细的测试范围：明确哪些功能或模块将被测试通过相应的测试方法如单元测试、集成测试、系统测试、性能测试等在满足相关测试资源（包括所需的硬件、软件、测试工具和人员）的情况下进行测试

  1. 时间表：详细的测试阶段和每个阶段的预期时间

  1. 责任分配：明确哪个团队或个人负责哪些测试活动

### 3.7 项目交付与后期支持

- **交付物清单**

|        **ArtifactId**                               |         **内容**             |
| ------------------------------------ | ------------------- |
| `monitor-server.jar :version` | 服务端 jar 包 |
| `path-install:docker-compose` | 服务端环境安装文件 docker compose.yaml |
| `cbq2024/monitor-client:version` | 客户端 Docker Image |
| `cbq2024/monitor-web-ui:version` | 网页端 Docker Image |
| `docs`                               | 项目文档            |

- **部署计划**
  1. 提前预发布相关更新信息
  2. 更新
     1. 服务端通过 `github workflow build-server.yaml`打包为 jar 后发布到 release 通过 `java -jar`运行即可 其依赖环境如 `mysql、redis、RabbitMQ、influxdb` 等通过 `docker compose` （docker/path-install/docker-compose.yml）的方式进行构建
     2. 客户端通过 `github workflow build-client.yaml`   上传至 DockerHub 即 `cbq2024/monitor-client:version` 
     3. 网页端通过`github workflow build-web.yaml ` 上传至 DockerHub 即 `cbh0817/monitor-web-ui:version` 
     4. 文档通过 `github workflow docs/build.yaml` 集合 `github pages` 进行快速部署
     
  3. **用户培训与支持**
  4. 提供新手友好的项目文档
  5. 提供线上支持，开设用户交流群



